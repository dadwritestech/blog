"use strict";(self.webpackChunkdocusaurus_portfolio=self.webpackChunkdocusaurus_portfolio||[]).push([[2785],{2971:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var n=r(6540),s=r(4445),a=r(4848);const i=function(){const[e,t]=(0,n.useState)("km"),[r,s]=(0,n.useState)(3),[i,l]=(0,n.useState)(50),[o,c]=(0,n.useState)(4),[u,d]=(0,n.useState)(100),[h,m]=(0,n.useState)(2600),[y,p]=(0,n.useState)(""),x=()=>{if(isNaN(r)||isNaN(i)||isNaN(o)||isNaN(u)||isNaN(h))return void p("Please enter valid numbers in all fields.");let t=r*i*(52-o)+52*u+h;"miles"===e&&(t*=.621371),p(`Total Annual Distance: ${t.toFixed(2)} ${e}`)};return(0,n.useEffect)(()=>{x()},[r,i,o,u,h,e]),(0,a.jsxs)("div",{className:"calculator",children:[(0,a.jsx)("h2",{children:"Annual Distance Calculator"}),(0,a.jsxs)("div",{className:"unit-toggle",children:[(0,a.jsx)("label",{htmlFor:"unitToggle",children:"Unit:"}),(0,a.jsxs)("select",{id:"unitToggle",value:e,onChange:e=>{return r=e.target.value,t(r),void p("");var r},children:[(0,a.jsx)("option",{value:"km",children:"Kilometers"}),(0,a.jsx)("option",{value:"miles",children:"Miles"})]})]}),(0,a.jsxs)("form",{id:"mileageForm",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"weekdayDays",children:"Days you drive per week:"}),(0,a.jsx)("input",{type:"number",id:"weekdayDays",name:"weekdayDays",min:"0",max:"7",value:r,onChange:e=>s(parseFloat(e.target.value))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"weekdayDistance",children:["Distance per weekday: ",(0,a.jsx)("span",{className:"unit",children:e})]}),(0,a.jsx)("input",{type:"number",id:"weekdayDistance",name:"weekdayDistance",min:"0",value:i,onChange:e=>l(parseFloat(e.target.value))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"weeksOff",children:"Weeks of vacation per year:"}),(0,a.jsx)("input",{type:"number",id:"weeksOff",name:"weeksOff",min:"0",max:"52",value:o,onChange:e=>c(parseFloat(e.target.value))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"weekendDistance",children:["Distance per weekend: ",(0,a.jsx)("span",{className:"unit",children:e})]}),(0,a.jsx)("input",{type:"number",id:"weekendDistance",name:"weekendDistance",min:"0",value:u,onChange:e=>d(parseFloat(e.target.value))})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"vacationDistance",children:["Total distance during vacations: ",(0,a.jsx)("span",{className:"unit",children:e})]}),(0,a.jsx)("input",{type:"number",id:"vacationDistance",name:"vacationDistance",min:"0",value:h,onChange:e=>m(parseFloat(e.target.value))})]}),(0,a.jsx)("button",{type:"button",onClick:x,children:"Calculate Annual Mileage"})]}),(0,a.jsx)("div",{id:"result",children:y})]})},l=()=>{const[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(null),[o,c]=(0,n.useState)([]),[u,d]=(0,n.useState)(null),[h,m]=(0,n.useState)(null),[y,p]=(0,n.useState)("00:00"),[x,f]=(0,n.useState)("--:--"),[j,v]=(0,n.useState)(""),g=(0,n.useRef)(null),N=(0,n.useRef)(null),S=(0,n.useRef)(null),b=(0,n.useRef)(null),C=(0,n.useRef)(null),D="contractionHistory";(0,n.useEffect)(()=>(q()&&k("Loaded saved history.",3e3),()=>{clearInterval(g.current),clearInterval(N.current)}),[]),(0,n.useEffect)(()=>(i&&!e&&(clearInterval(N.current),N.current=setInterval(E,1e3)),()=>clearInterval(N.current)),[i,e]);const k=(e,t=0)=>{v(e),t>0&&setTimeout(()=>{v(t=>t===e?"":t)},t)},w=e=>{if(null===e||"number"!=typeof e||isNaN(e))return"--:--";const t=Math.floor(e/60),r=Math.floor(e%60);return`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`},I=e=>{if(!e||"number"!=typeof e||isNaN(e))return"N/A";return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},T=()=>{if(!r)return;const e=Date.now();p(w((e-r)/1e3))},E=()=>{if(!i)return void f("--:--");const e=Date.now();f(w((e-i)/1e3))},O=()=>{m(null),S.current&&(S.current.value=""),b.current&&(b.current.value=""),d(null)},F=()=>{try{localStorage.setItem(D,JSON.stringify(o)),k("History saved.",3e3)}catch(e){console.error("Error saving history:",e),k("Error saving: "+e.message,5e3)}},q=()=>{const e=localStorage.getItem(D);let t=!1;if(e)try{const r=JSON.parse(e);A(r)?(c(r.map(e=>({startTime:Number(e.startTime),duration:Number(e.duration),frequency:null===e.frequency||void 0===e.frequency?null:Number(e.frequency),intensity:e.intensity||"",notes:e.notes||""}))),l(r.length>0?r[0].startTime:null),t=!0):(console.error("Invalid stored history."),localStorage.removeItem(D))}catch(r){console.error("Error parsing stored history:",r),localStorage.removeItem(D)}return t},A=e=>!!Array.isArray(e)&&(0===e.length||e.every(e=>!("object"!=typeof e||null===e||"number"!=typeof e.startTime||isNaN(e.startTime)||"number"!=typeof e.duration||isNaN(e.duration)||null!==e.frequency&&("number"!=typeof e.frequency||isNaN(e.frequency))||"string"!=typeof e.intensity&&null!=e.intensity||"string"!=typeof e.notes&&null!=e.notes))),{avgDuration:J,avgFrequency:H}=(()=>{let e=0,t=0,r=0,n=0;o.forEach(s=>{"number"==typeof s.duration&&(e+=s.duration,n++),"number"==typeof s.frequency&&(t+=s.frequency,r++)});return{avgDuration:n>0?e/n:null,avgFrequency:r>0?t/r:null}})();return(0,a.jsxs)("div",{className:"calculator contraction-timer-container",children:[(0,a.jsx)("h2",{children:"Contraction Timer"}),(0,a.jsx)("div",{className:"form-group timer-controls",children:(0,a.jsx)("button",{id:"timerButton",onClick:()=>{const n=Date.now();if(e){t(!1);const e=(n-r)/1e3;clearInterval(g.current),p(w(e));let s=null;i&&(s=(r-i)/1e3),d({startTime:r,duration:e,frequency:s}),m(null)}else null!==h&&O(),t(!0),s(n),clearInterval(g.current),g.current=setInterval(T,500),T(),clearInterval(N.current),f("--:--"),d(null)},className:e?"timing":"",children:e?"Stop Contraction":"Start Contraction"})}),(0,a.jsxs)("div",{id:"result",className:"timer-display",children:[(0,a.jsxs)("p",{children:["Current Duration:",(0,a.jsx)("span",{children:y})]}),(0,a.jsxs)("p",{children:["Time Since Last Start:",(0,a.jsx)("span",{children:x})]})]}),(0,a.jsx)("div",{className:"form-group analysis-section",children:(0,a.jsxs)("div",{id:"summarySection",children:[(0,a.jsxs)("p",{children:["Average Duration:",(0,a.jsx)("span",{children:w(J)})]}),(0,a.jsxs)("p",{children:["Average Frequency:",(0,a.jsx)("span",{children:w(H)})]})]})}),(u||h)&&(0,a.jsxs)("div",{className:"form-group entry-details-section",id:"entryDetailsSection",style:{display:"block"},children:[(0,a.jsx)("h3",{children:h?`Edit Entry (Started ${I(h)})`:"Add Details for Last Contraction"}),(0,a.jsx)("label",{htmlFor:"entryIntensity",children:"Intensity:"}),(0,a.jsxs)("select",{id:"entryIntensity",ref:S,children:[(0,a.jsx)("option",{value:"",children:"--Select--"}),(0,a.jsx)("option",{value:"Mild",children:"Mild"}),(0,a.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,a.jsx)("option",{value:"Strong",children:"Strong"})]}),(0,a.jsx)("label",{htmlFor:"entryNotes",children:"Notes:"}),(0,a.jsx)("textarea",{id:"entryNotes",ref:b,rows:"2",placeholder:"Optional notes..."}),(0,a.jsxs)("div",{className:"confirm-button-container",children:[(0,a.jsx)("button",{id:"confirmEntryButton",onClick:()=>{if(h){const e=o.findIndex(e=>e.startTime===h);if(-1!==e){const t=[...o];t[e].notes=b.current.value,t[e].intensity=S.current.value,c(t),O(),k("Entry updated.",2e3)}}else if(u){const e={...u,intensity:S.current.value,notes:b.current.value};c([e,...o]),l(u.startTime),s(null),d(null),k("Entry added.",2e3)}},children:h?"Update Entry":"Confirm Entry"}),h&&(0,a.jsx)("button",{id:"cancelEditButton",onClick:()=>{O()},children:"Cancel Edit"})]})]}),(0,a.jsx)("h2",{children:"Contraction History"}),(0,a.jsx)("div",{className:"history-table-container",children:(0,a.jsxs)("table",{id:"historyTable",className:"history-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Start Time"}),(0,a.jsx)("th",{children:"Duration"}),(0,a.jsx)("th",{children:"Frequency"}),(0,a.jsx)("th",{children:"Intensity"}),(0,a.jsx)("th",{children:"Notes"}),(0,a.jsx)("th",{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:0===o.length?(0,a.jsx)("tr",{id:"no-history-row",children:(0,a.jsx)("td",{colSpan:"6",className:"no-history",children:"No contractions recorded yet."})}):o.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:I(e.startTime)}),(0,a.jsx)("td",{children:w(e.duration)}),(0,a.jsx)("td",{children:null===e.frequency?"N/A":w(e.frequency)}),(0,a.jsx)("td",{children:e.intensity||""}),(0,a.jsx)("td",{children:e.notes||""}),(0,a.jsxs)("td",{className:"action-cell",children:[(0,a.jsx)("button",{className:"edit-button",title:"Edit intensity/notes",onClick:()=>{return m((t=e).startTime),S.current.value=t.intensity||"",void(b.current.value=t.notes||"");var t},children:"\u270e"}),(0,a.jsx)("button",{className:"delete-button",title:"Delete this entry",onClick:()=>(e=>{if(confirm(`Delete entry started at ${I(e)}?`)){const t=o.findIndex(t=>t.startTime===e);if(-1!==t){const r=0===t,n=o.filter(t=>t.startTime!==e);c(n),r&&l(n.length>0?n[0].startTime:null),k("Entry deleted.",2e3)}}})(e.startTime),children:"\xd7"})]})]},e.startTime))})]})}),(0,a.jsxs)("div",{className:"button-section",children:[(0,a.jsx)("button",{id:"saveHistoryButton",onClick:()=>{0!==o.length?confirm("Save history to browser storage?")&&F():k("No history to save.",3e3)},children:"Save History"}),(0,a.jsx)("button",{id:"exportHistoryButton",onClick:()=>{if(0===o.length)return void k("No history to export.",3e3);const e=prompt("JSON Export: 'D'ownload or 'C'opy?","D");if(null===e)return void k("JSON Export cancelled.",2e3);const t=e.toUpperCase();if("D"===t)try{const e=JSON.stringify(o,null,2),t=new Blob([e],{type:"application/json;charset=utf-8;"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r;const s=new Date,a=`${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}${String(s.getDate()).padStart(2,"0")}_${String(s.getHours()).padStart(2,"0")}${String(s.getMinutes()).padStart(2,"0")}`;n.download=`contraction_history_${a}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),k("JSON exported.",3e3)}catch(r){console.error("JSON Export error:",r),k("Error exporting JSON.",5e3)}else if("C"===t)try{const e=JSON.stringify(o,null,2);navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{k("JSON copied.",3e3)}).catch(t=>{console.error("Clipboard error:",t),alert("Copy manually:\n\n"+e),k("Copy manually.",5e3)}):(alert("Copy manually:\n\n"+e),k("Copy manually.",5e3))}catch(r){console.error("JSON Copy error:",r),k("Error copying JSON.",5e3)}else k("Invalid choice.",3e3)},children:"Export JSON"}),(0,a.jsx)("button",{id:"clearHistoryButton",onClick:()=>{let e="Clear current history?",r=null!==localStorage.getItem(D);0!==o.length||r?(r&&(e+="\nAlso delete saved history?"),confirm(e)&&(c([]),l(null),s(null),t(!1),d(null),clearInterval(g.current),clearInterval(N.current),p("00:00"),f("--:--"),O(),r&&localStorage.removeItem(D),k("History cleared.",3e3))):k("History empty.",3e3)},children:"Clear History"}),(0,a.jsx)("p",{id:"storageStatus",className:"storage-status",children:j})]}),(0,a.jsxs)("div",{className:"import-section",children:[(0,a.jsx)("h3",{children:"Import History (JSON)"}),(0,a.jsx)("label",{htmlFor:"importDataArea",children:"Paste JSON data here:"}),(0,a.jsx)("textarea",{id:"importDataArea",ref:C,rows:"4"}),(0,a.jsx)("div",{className:"import-button-container",children:(0,a.jsx)("button",{id:"importHistoryButton",onClick:()=>{const e=C.current.value.trim();if(e)if(o.length>0&&!confirm("Importing replaces current history. Continue?"))k("Import cancelled.",2e3);else try{const t=JSON.parse(e);if(!A(t))throw new Error(Array.isArray(t)?"Invalid format.":"Not an array.");c(t.map(e=>({startTime:Number(e.startTime),duration:Number(e.duration),frequency:null===e.frequency||void 0===e.frequency?null:Number(e.frequency),intensity:e.intensity||"",notes:e.notes||""}))),l(t.length>0?t[0].startTime:null),C.current.value="",k("History imported.",3e3)}catch(t){console.error("Import error:",t),k(`Import failed: ${t.message}.`,6e3)}else k("Paste JSON data first.",3e3)},children:"Import Data (Replaces Current)"})})]})]})};function o(){return(0,a.jsx)(s.A,{title:"Tools",description:"Useful tools and calculators.",children:(0,a.jsxs)("main",{className:"container margin-vert--lg",children:[(0,a.jsx)("h1",{children:"My Handy Tools"}),(0,a.jsx)("p",{children:"Here are some useful tools I've built:"}),(0,a.jsxs)("section",{className:"calculator-section",children:[(0,a.jsx)("h2",{children:"Annual Mileage Calculator"}),(0,a.jsx)(i,{})]}),(0,a.jsxs)("section",{className:"calculator-section margin-top--lg",children:[(0,a.jsx)("h2",{children:"Contraction Timer"}),(0,a.jsx)(l,{})]})]})})}}}]);